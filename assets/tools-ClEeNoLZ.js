import{Q as H,j as e,h as j,t as l,aG as W,aH as b,aI as g,B as M,aJ as T,aK as I,N as q,x as k,ax as Q,av as U,aL as X,R as G,ap as J}from"./chakra-BF_mGyXb.js";import{u as O,b as S}from"./react-0YWW4C_I.js";import{c as K,d as N,aM as Y,aD as Z,aN as ee,aO as se,av as u,V as ae,W as ne,k as P,o as E,aB as o,S as te,aP as oe,b as ie,aQ as le}from"./index-WzGm_wjs.js";import{m as d}from"./misc-nodes-BRe_7LMK.js";import{s as R}from"./master-manager-DvmvPaT6.js";const c={justifyContent:"flex-start",p:0,w:"100%",h:10},A={p:2.5,h:10},v={p:0,display:"flex",flexDirection:"column"},ce=e.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:e.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2",stroke:"currentColor",strokeDasharray:"2",fill:"none"})}),D=.3,me=()=>{const{t:n}=O(),t=K(),{activeSubscriptions:m}=N(s=>s.account),{preference:{unlockSimplePathAttempts:f,toolsPanel:{expand:r}}}=N(s=>s.app),{mode:i,theme:h,paletteAppClip:{output:x},masterNodesCount:B}=N(s=>s.runtime),L=H("white","var(--chakra-colors-gray-800)"),[V,w]=S.useState(!1);S.useEffect(()=>{V&&x&&(t(Y(x)),w(!1))},[x==null?void 0:x.toString()]);const[a,C]=S.useState(r),_=()=>{r?C(!1):setTimeout(()=>C(!0),(D+.02)*1e3),t(le(!r))},y=s=>t(u("station-".concat(s))),z=s=>t(u("line-".concat(s))),p=s=>t(u("misc-node-".concat(s))),F=!m.RMP_CLOUD&&B+1>Z;return e.jsxs(j,{flexShrink:"0",direction:"column",width:r?450:10,maxWidth:"100%",height:"100%",bg:L,zIndex:"5",transition:"width ".concat(D,"s ease-in-out"),children:[e.jsx(l,{"aria-label":"Menu",leftIcon:a?e.jsx(ee,{size:40,transform:"rotate(90)"}):e.jsx(se,{size:40,transform:"rotate(90)"}),onClick:_,sx:c,children:a?n("panel.tools.showLess"):void 0}),e.jsx(j,{className:"tools",overflow:"auto",children:e.jsxs(W,{width:"100%",allowMultiple:!0,defaultIndex:[0,1,2],children:[e.jsx(l,{"aria-label":"select",leftIcon:ce,onClick:()=>t(u(i==="select"?"free":"select")),variant:i==="select"?"solid":"outline",sx:c,children:a?n("panel.tools.select"):void 0}),e.jsxs(b,{children:[e.jsxs(g,{sx:A,children:[a&&e.jsx(M,{as:"span",flex:"1",textAlign:"left",children:n("panel.tools.section.lineDrawing")}),e.jsx(T,{})]}),e.jsxs(I,{sx:v,children:[e.jsxs(j,{children:[e.jsx(ae,{theme:h,onClick:()=>{w(!0),t(ne(h))}}),e.jsx(q,{fontWeight:"600",pl:"1",alignSelf:"center",children:a?n("color"):void 0})]}),Object.values(P).filter(s=>!(s===P.Simple&&f>=0)).map(s=>e.jsx(l,{"aria-label":s,leftIcon:E[s].icon,onClick:()=>z(s),variant:i==="line-".concat(s)?"solid":"outline",sx:c,children:a?n(E[s].metadata.displayName):void 0},s)),e.jsx(l,{"aria-label":o.Virtual,leftIcon:d[o.Virtual].icon,onClick:()=>p(o.Virtual),variant:i==="misc-node-".concat(o.Virtual)?"solid":"outline",sx:c,children:a?n(d[o.Virtual].metadata.displayName):void 0})]})]}),e.jsxs(b,{children:[e.jsxs(g,{sx:A,children:[a&&e.jsx(M,{as:"span",flex:"1",textAlign:"left",children:n("panel.tools.section.stations")}),e.jsx(T,{})]}),e.jsxs(I,{sx:v,children:[Object.values(te).map(s=>e.jsx(l,{"aria-label":s,leftIcon:R[s].icon,onClick:()=>y(s),variant:i==="station-".concat(s)?"solid":"outline",sx:c,children:a?n(R[s].metadata.displayName):void 0},s)),e.jsx($,{type:"station",expand:a})]})]}),e.jsxs(b,{children:[e.jsxs(g,{sx:A,children:[a&&e.jsx(M,{as:"span",flex:"1",textAlign:"left",children:n("panel.tools.section.miscellaneousNodes")}),e.jsx(T,{})]}),e.jsxs(I,{sx:v,children:[e.jsxs(l,{"aria-label":o.Master,leftIcon:d[o.Master].icon,onClick:()=>p(o.Master),variant:i==="misc-node-".concat(o.Master)?"solid":"outline",isDisabled:F,sx:c,children:[a?n(d[o.Master].metadata.displayName):void 0,a?e.jsxs(e.Fragment,{children:[e.jsx(k,{ml:"1",colorScheme:"green",children:"New"}),e.jsx(Q,{label:n("header.settings.proWithTrial"),children:e.jsx(k,{ml:"1",color:"gray.50",background:"radial-gradient(circle, #3f5efb, #fc466b)",mr:"auto",children:"PRO"})})]}):void 0]}),Object.values(o).filter(s=>s!==o.Virtual&&s!==o.I18nText&&s!==o.Master).map(s=>e.jsx(l,{"aria-label":s,leftIcon:d[s].icon,onClick:()=>p(s),variant:i==="misc-node-".concat(s)?"solid":"outline",sx:c,children:a?n(d[s].metadata.displayName):void 0},s)),e.jsx($,{type:"misc-node",expand:a})]})]})]})})]})},$=n=>{const{type:t,expand:m}=n,{t:f}=O(),r=t==="misc-node"?"nodes":t==="station"?"stations":"line-styles",i=t==="line"?"xs":void 0,h=t==="line"?"30px":"40px";return e.jsxs(U,{fontSize:i,children:[t!=="line"&&e.jsx(X.Provider,{value:{style:{padding:5},size:h},children:e.jsx(oe,{})}),m&&e.jsxs(e.Fragment,{children:[e.jsx(G,{color:"teal.500",href:"https://github.com/railmapgen/rmp/blob/main/docs/".concat(r,".md"),isExternal:!0,children:f("panel.tools.learnHowToAdd.".concat(t))}),e.jsx(J,{as:ie,color:"teal.500",mr:"auto"})]})]})};export{$ as LearnHowToAdd,me as default};
